{"version":3,"sources":["components/Button/index.ts","components/Button/Button.tsx","components/InputField/index.ts","components/InputField/InputField.tsx","components/Image/index.ts","components/Image/Image.tsx","components/Album/index.ts","components/Album/Album.tsx","components/Gallery/index.ts","components/Gallery/Gallery.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Button","props","purpose","getImages","clearImages","groupImages","isGrouped","color","boop","onClick","tag","className","InputField","changeHandler","event","getTag","target","value","onChange","this","type","placeholder","currentTag","Component","Image","getImageTeg","src","alt","Album","data","name","console","log","body","filter","item","map","image_url","id","Gallery","galleryData","groupedData","arr","key","reduce","rv","x","push","groupBy","keys","hasOwnProperty","sortedData","sort","a","b","index","App","state","setState","setTimeout","fetch","then","res","json","result","length","alert","newState","concat","error","val","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d6bc53d.chunk.js","sourcesContent":["import Button from './Button'\r\nexport default Button","import React from 'react'\r\nimport './style.scss'\r\n\r\ntype ButtonProps = {\r\n    tag: string | null,\r\n    getImages?(tag: string | null): void,\r\n    clearImages?(): void,\r\n    groupImages?(): void,\r\n    purpose: string,\r\n    isGrouped?: boolean\r\n}\r\n\r\nexport default function Button(props: ButtonProps) {\r\n    const {purpose, getImages, clearImages, groupImages, isGrouped} = props\r\n    const color: string = 'btn btn-' + purpose\r\n    const boop: string | null = (purpose === 'load') ? 'Загрузить' : (purpose === 'clear') ? 'Очистить' : (purpose === 'group') ? ((isGrouped) ? 'Разгруппировать': 'Группировать') : null\r\n\r\n    const buttonClick = (tag: string | null) =>{\r\n        if(getImages){\r\n            getImages(tag)\r\n        } if(clearImages){\r\n            clearImages()\r\n        } if(groupImages){\r\n            groupImages()\r\n        }\r\n    }\r\n\r\n    return(\r\n    <button onClick={() => buttonClick(props.tag)} className={color}>{boop}</button>\r\n    )\r\n}","import InputField from './InputField'\r\nexport default InputField","import React, {Component} from 'react'\r\nimport './style.scss'\r\n\r\ntype InputFieldProps = {\r\n    getTag(tag: string): void,\r\n    currentTag: string\r\n}\r\n\r\nexport default class InputField extends Component<InputFieldProps, {}>{\r\n\r\n    changeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.getTag(event.target.value)\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <input onChange={this.changeHandler} type='text' className='input-field' placeholder='введите тег' value={this.props.currentTag}></input>\r\n        )\r\n    }\r\n\r\n}","import Image from './Image'\r\nexport default Image","import React from 'react'\r\nimport './style.scss'\r\n\r\ntype ImageProps = {\r\n    src: string | undefined,\r\n    getImageTeg(val: string): void,\r\n    tag: string\r\n}\r\n\r\nexport default function Image(props: ImageProps){\r\n    return(\r\n        <>\r\n        <img className='pic' onClick={() => props.getImageTeg(props.tag)} src={props.src} alt=''></img>\r\n        </>\r\n    )\r\n}","import Album from './Album'\r\nexport default Album","import React from 'react'\r\nimport Image from '../Image'\r\nimport './style.scss'\r\n\r\ntype AlbumProps = {\r\n    name: string,\r\n    data: any,\r\n    getImageTeg(val: string): void\r\n}\r\n\r\nexport default function Album(props: AlbumProps){\r\n\r\n    const {data, name} = props\r\n    console.log(name)\r\n    const newData = data.filter((item: any) => item.tag === name)\r\n    \r\n    const body = newData.map((item: { image_url: string | undefined, id: string | undefined, tag: string }) => \r\n    (<Image key={item.id} src={item.image_url} tag={item.tag} getImageTeg={props.getImageTeg} />))\r\n\r\n\r\n    return(\r\n        <>\r\n        <div className='album-field'>\r\n        <h3 className='album__header'>{name}</h3>\r\n        {body}\r\n        </div>\r\n        </>\r\n    )\r\n}","import Gallery from './Gallery'\r\nexport default Gallery","import React from 'react'\r\nimport Album from '../Album'\r\nimport Image from '../Image'\r\nimport './style.scss'\r\n\r\ntype GalleryProps = {\r\n    galleryData: any,\r\n    isGrouped: boolean,\r\n    getImageTeg(val: string): void\r\n}\r\n\r\nexport default function Gallery(props: GalleryProps){\r\n    const {galleryData, isGrouped} = props\r\n\r\n    var groupBy = function(arr: Array<any>, key: string) {\r\n        return arr.reduce(function(rv, x) {\r\n          (rv[x[key]] = rv[x[key]] || []).push(x)\r\n          console.log('sorted', rv)\r\n          return rv\r\n        }, [])\r\n    }\r\n    const groupedData = groupBy(galleryData, 'tag') \r\n    const keys = []\r\n    for (var key in groupedData){\r\n        if(groupedData.hasOwnProperty(key)){\r\n            keys.push(key)\r\n        }\r\n    }\r\n\r\n    const sortedData = isGrouped ? \r\n        galleryData.sort((a: any, b: any) =>  {\r\n            if(a.tag < b.tag){return -1}\r\n            if(a.tag > b.tag){return 1}\r\n            return 0\r\n          })\r\n        : galleryData.sort((a: any, b: any) =>  {\r\n            if(a.index < b.index){return -1}\r\n            if(a.index > b.index){return 1}\r\n            return 0\r\n          })\r\n\r\n    const body = isGrouped ? \r\n        keys.map((item: any) => \r\n            (<Album key={item} name={item} data={sortedData} getImageTeg={props.getImageTeg} />)\r\n        )\r\n        : sortedData.map((item: { image_url: string | undefined, id: string | undefined, tag: string }) => \r\n    (<Image key={item.id} src={item.image_url} tag={item.tag} getImageTeg={props.getImageTeg} />))\r\n    return(\r\n        <div className='gallery-field'>\r\n            {body}\r\n        </div>\r\n    )\r\n}","import React, {Component} from 'react';\r\nimport Button from './components/Button'\r\nimport InputField from './components/InputField'\r\nimport Gallery from './components/Gallery'\r\nimport './App.scss'\r\n\r\nclass App extends Component{\r\n  state = {\r\n    galleryData: [],\r\n    currentTag: '',\r\n    isGrouped: false\r\n  }\r\n  render(){\r\n    return (\r\n      <div className=\"App\">\r\n        <div className='search'>\r\n          <InputField getTag={this.getTag} currentTag={this.state.currentTag} />\r\n          <div className='search__buttons'>\r\n            <Button tag={this.state.currentTag} getImages={this.getImages} purpose={'load'} />\r\n            <Button tag={this.state.currentTag} clearImages={this.clearImages} purpose={'clear'} />\r\n            <Button tag={this.state.currentTag} groupImages={this.groupImages} purpose={'group'} isGrouped={this.state.isGrouped} />\r\n          </div>\r\n        </div>\r\n        <Gallery galleryData={this.state.galleryData} isGrouped={this.state.isGrouped} getImageTeg={this.getImageTeg} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getTag = (tag: string) => {\r\n    this.setState({\r\n      currentTag: tag\r\n    })\r\n    setTimeout(() => {\r\n      console.log(this.state.currentTag)\r\n    }, 1);\r\n  }\r\n\r\n  getImages = (tag: string) => {\r\n    if(!tag){\r\n      alert('Заполните поле \"тег\"')\r\n      return\r\n    }\r\n    const url: string = ('https://api.giphy.com/v1/gifs/random?api_key=gTJAO48YcpmrADUyo4opy4ES4g7iDBxx&tag=$' + tag)\r\n    fetch(url)\r\n    .then(res => res.json())\r\n    .then(\r\n      (result: any) => {\r\n        if(result.data.length === 0){\r\n          alert('По тегу ничего не найдено')\r\n        }\r\n        // console.log(result, '', result.data.length)\r\n        result.data['tag'] = tag\r\n        result.data['index'] = this.state.galleryData.length + 1\r\n        const newState = this.state.galleryData.concat(result.data)\r\n        this.setState({\r\n          galleryData: newState\r\n        })\r\n      },\r\n      (error) => {\r\n        this.setState({\r\n          error\r\n        })\r\n        alert('Произошла HTTP-ошибка')\r\n      }\r\n      )\r\n      setTimeout(() => {  \r\n        console.log(this.state.galleryData)\r\n      }, 1);\r\n  }\r\n\r\n  clearImages = () => {\r\n    this.setState({\r\n      galleryData: [],\r\n      currentTag: ''\r\n    })\r\n  }\r\n\r\n  groupImages = () => {\r\n    this.setState({\r\n      isGrouped: !this.state.isGrouped\r\n    })\r\n  }\r\n\r\n  getImageTeg = (val: string) => {\r\n    this.setState({\r\n      currentTag: val\r\n    })\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}